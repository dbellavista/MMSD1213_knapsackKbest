# MMSD1213 - Knapsack K-best algorithm (Bellavista)

This project aims to implements to implements an algorithm for finding `K` best
solutions for the knapsack problem, basing on the algorithm proposed in:

    An Algorithm For Determining The K-Best Solutions Of The One-Dimensional Knapsack Problem

    Horacio Hideki Yanasse, Instituto Nacional de Pesquisas Espaciais - INPE/LAC 
    Nei Yoshihiro Soma, Instituto Tecnológico de Aeronáutica - ITA/IEC 
    Nelson Maculan, Universidade Federal do Rio de Janeiro - UFRJ/COPPE

For generating sample problems, I have used the generator program in
http://www.diku.dk/~pisinger/codes.html.

## Solutions with the same solution vector

During the search for alternative solutions, it happens that multiple solution,
obtained from different paths, have the same solution vector.  This problem was
not discussed in the paper, so I have implemented a mechanism that efficiently
checks for duplicate solutions and removes them by the time they are recovered.

## Project structure

The kbest algorithm is compiled as a dynamic library, with a public interface
(two `.h`).  The project is managed by `cmake` and the documentation created by
`doxygen`.

### CMAKE

CMake is a cross-compatibility utility capable of generating project and
makefiles for every operating system. With CMake, you can define options. KBest
has those options:

* __KBEST\_INSTALL\_PREFIX__ (default to project dir): the install prefix, that is, where the command
                            `make install` will put the binary and libraries.
* __TESTS__ (default `ON`): compile the tests.
* __DEMO__ (default `ON`): compile the demo.
* __ENABLE_DEBUG_PRINTS__ (default `OFF`): compile the debug prints. Then they
                                         can be enabled using the API of `debug.h`
* __STRIP\_DEMO\_PATH__ (default `OFF`): this is for testing. If the project is
                        installed (aka `make install`) and the
                        `CMAKE_INSTALL_PREFIX` is not in the `PATH`, by
                        enabling this option CMake won't strip the information
                        of the runtime path from the demo executable, so that
                        it can link the `kbest` library.

Example of usage from the command line. For windows it's suggested the usage of `cmake-gui`:

    $ cd knapsackkbest
    $ mkdir build && cd build
    $ cmake -G "Unix Makefiles" -DENABLE_DEBUG_PRINTS=ON ..
    $ make
    $ make install

The project includes some pregenerated builds.

### Directories

    knapsackkbest/
    |-- CMakeLists.txt
    |-- default_build/
    |-- doc/
    |-- problems/
    `-- src/
        |-- CMakeLists.txt
        |-- demo/
        |   |-- CMakeLists.txt
        |   `-- kbest_demo_main.c
        |-- kbest.c
        |-- kbest.h
        |-- kbest_io_utility.c
        |-- kbest_io_utility.h
        |-- kp_algorithm/
        |   |-- kp_alg_backtrack.c
        |   |-- kp_alg_forward.c
        |   `-- kp_algorithms.h
        |-- kp_model/
        |   |-- kp_inner_model.c
        |   `-- kp_inner_model.h
        |-- tests/
        |   |-- CMakeLists.txt
        |   |-- kp_tests.c
        |   |-- kp_tests.h
        |   |-- test_main.c
        |   |-- test_suite.c
        |   `-- test_suite.h
        `-- utility/
            |-- data.h
            |-- debug.c
            |-- debug.h
            |-- utility.c
            `-- utility.h

* __default\_build/__ contains some default builds, to compile the project without using cmake.
* __doc/__ contains the documentation snapshot and the doxygen configuration file.
* __problems/__ contains some test problems, generated by knapsack generator.
* __src/__ the actual implementation. The main folder contains the public
             interfaces (`kbest.h` and `kbest_io_utility.h`) and their implementation.
  * __kp_model/__ contains the model and utility functions used by the internal algorithms.
  * __kp_algorithm/__ contains the definition and implementation of the
                        internal algorithms, that is, the algorithm proposed in
                        the referred paper.
  * __utility/__ contains some utility function for managing matrices and debug prints.
  * __tests/__ contains tests for data and algorithms.
  * __demo/__ contains an utility demo, using the kbest library.

## References

[An Algorithm For Determining The K-Best Solutions Of The One-Dimensional Knapsack Problem](http://www.scielo.br/scielo.php?pid=s0101-74382000000100011&script=sci_arttext)

http://www.diku.dk/~pisinger/codes.html
